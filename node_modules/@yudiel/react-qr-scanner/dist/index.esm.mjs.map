{"version":3,"file":"index.esm.mjs","sources":["../src/assets/CameraOff.tsx","../src/assets/CameraOn.tsx","../src/components/OnOff.tsx","../src/assets/TorchOn.tsx","../src/assets/TorchOff.tsx","../src/components/Torch.tsx","../src/assets/ZoomIn.tsx","../src/assets/ZoomOut.tsx","../src/components/Zoom.tsx","../src/components/Finder.tsx","../src/misc/defaultConstraints.ts","../src/misc/defaultComponents.ts","../src/misc/defaultStyles.ts","../src/misc/shimGetUserMedia.ts","../src/utilities/idempotent.ts","../src/misc/overlays.ts","../src/assets/base64Beep.ts","../src/utilities/isDateObject.ts","../src/utilities/isNullOrUndefined.ts","../src/utilities/isObject.ts","../src/utilities/isPrimitive.ts","../src/utilities/deepEqual.ts","../src/components/Scanner.tsx","../src/hooks/useCamera.ts","../src/hooks/useScanner.ts","../src/hooks/useDevices.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"names":["CameraOff","props","onClick","disabled","className","style","cursor","stroke","strokeLineJoin","strokeLineCap","strokeWidth","React","createElement","undefined","width","height","viewBox","fill","xmlns","d","CameraOn","OnOff","scanning","startScanning","stopScanning","buttonDisabled","setButtonDisabled","useState","toggleScanning","setTimeout","bottom","right","position","zIndex","TorchOn","TorchOff","Torch","status","torchToggle","toggleTorch","value","ZoomIn","ZoomOut","Zoom","capabilities","onZoom","stepSize","max","min","Fragment","Math","Finder","loading","border","onOff","torch","zoom","color","top","left","boxSizing","x","y","textAnchor","fontSize","fontFamily","fontWeight","attributeName","values","dur","repeatCount","toggle","onChange","defaultConstraints","facingMode","ideal","defaultComponents","audio","tracker","finder","defaultStyles","display","overflow","shimGetUserMedia","action","result","called","args","idempotent","browserDetails","detectBrowser","window","browser","chromeShim","firefoxShim","safariShim","Error","outline","detectedCodes","ctx","detectedCode","firstPoint","otherPoints","cornerPoints","lineWidth","strokeStyle","beginPath","moveTo","lineTo","closePath","boundingBox","strokeRect","centerText","forEach","rawValue","centerX","centerY","canvas","lineHeight","formattedText","font","textAlign","JSON","stringify","parse","_a","lines","split","textWidth","map","line","measureText","textHeight","length","rectX","rectY","rectWidth","padding","rectHeight","quadraticCurveTo","fillStyle","index","currentX","lastIndex","propertyMatches","matchAll","valueMatches","match","matchIndex","property","replace","beforeProperty","substring","fillText","valueMatch","beforeValue","_b","remainingLine","base64Beep","isDateObject","Date","isNullOrUndefined","isObjectType","isObject","Array","isArray","isPrimitive","deepEqual","object1","object2","getTime","keys1","Object","keys","keys2","key","val1","includes","val2","clearCanvas","getContext","clearRect","Scanner","onScan","constraints","formats","paused","components","children","styles","classNames","allowMultiple","scanDelay","onError","videoRef","useRef","pauseFrameRef","trackingLayerRef","mergedConstraints","useMemo","mergedComponents","isMounted","setIsMounted","isCameraActive","setIsCameraActive","constraintsCached","setConstraintsCached","camera","taskQueue","Promise","resolve","type","data","currentStream","currentVideoTrack","setCapabilities","settings","setSettings","runStartTask","useCallback","async","videoEl","isSecureContext","navigator","mediaDevices","getUserMedia","stream","video","srcObject","mozSrcObject","URL","createObjectURL","src","webkitURL","id","race","play","then","track","getVideoTracks","getSettings","_c","getCapabilities","call","current","runStopTask","load","getTracks","removeTrack","stop","startCamera","restart","prevTaskResult","prevVideoEl","prevStream","prevConstraints","stopCamera","updateConstraints","newConstraints","videoTrack","advanced","applyConstraints","updatedCapabilities","updatedSettings","useEffect","useCamera","videoElementRef","onFound","retryDelay","barcodeDetectorRef","BarcodeDetector","audioRef","animationFrameIdRef","Audio","processFrame","state","timeNow","readyState","lastScan","contentBefore","lastScanHadContent","requestAnimationFrame","detect","anyNewCodesDetected","some","code","currentScanHasContent","lastOnScan","catch","error","console","newState","performance","now","initialState","cancelAnimationFrame","useScanner","trackingEl","displayWidth","offsetWidth","displayHeight","offsetHeight","resolutionWidth","videoWidth","resolutionHeight","videoHeight","largerRatio","uncutWidth","uncutHeight","xScalar","yScalar","xOffset","yOffset","scale","floor","translate","adjustedCodes","point","DOMRectReadOnly","fromRect","deviceId","cameraSettings","shouldStream","onCameraChange","canvasEl","drawImage","shouldScan","container","ref","visibility","autoPlay","muted","playsInline","finderBorder","useDevices","devices","setDevices","enumerateDevices","filter","kind","getDevices"],"mappings":"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"}